{% extends "repo_base.html" %}
{% load staticfiles compress %}
{% block title %}Listing{% endblock %}
{% block content %}

<div class="container container-search">
  <div class="row row-search">
    <form class="form-inline" method="GET" action="{% url 'repositories' repo.slug %}">
      <div class="col-md-12 input-group">
        <input
           id="id_q" name="q" type="search"
           class="form-control input-lg input-search col-md-12"
           placeholder="Search..."
           {% if form.q.value %}value="{{ form.q.value }}"{% endif %}
         >
        <span class="input-group-btn">
          <button type="submit" class="btn btn-default btn-lg">
            <i class="fa fa-search"></i>
          </button>
        </span>
      </div>
    </form>
  </div>
</div>
<div class="col-md-3">
  <div class="panel-group lore-panel-group">
    {% include "includes/facet_panel.html" %}
  </div>
</div>
<div class="col-md-9 col-results">
  <div class="row grid-row-top">
    <div class="col-md-5"></div>
    <div class="col-md-7 text-right"></div>
  </div>
  {% for result in page.object_list %}
    {% include "includes/learning_resource.html" %}
  {% endfor %}
</div>

<div class="row">
  <div class="col-md-12">
    <div class="lore-pagination">
      {% if page.has_other_pages %}
      {% if page.has_previous %}
      <a href="{% url 'repositories' repo.slug %}{{ qs_prefix }}page={{ page.previous_page_number }}">
        <i class="fa fa-angle-left"></i>
      </a>
      {% endif %}
      {% if page.has_next %}
      <a href="{% url 'repositories' repo.slug %}{{ qs_prefix}}page={{ page.next_page_number }}">
        <i class="fa fa-angle-right"></i>
      </a>
      {% endif %}
      {% endif %}
    </div>
  </div>
</div>
{% include "includes/resource_panel.html" %}
{% include "includes/taxonomy_panel.html" %}
{% endblock %}
{% block postcontent %}
{{ block.super }}
{% compress js %}
<script type="text/javascript">
  require(["listing"]);
</script>
{% endcompress %}
{% endblock %}
